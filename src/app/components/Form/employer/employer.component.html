<mat-stepper #stepper>
  <mat-step [stepControl]="firstFormGroup" errorMessage="Name is required.">
    <form [formGroup]="firstFormGroup">
      <ng-template matStepLabel>Fill out your name</ng-template>
      <div class="mb-3 row row-cols-2 row-cols-lg-2 g-4 g-lg-5">
        <mat-form-field appearance="fill" class="col">
          <mat-label>CIN</mat-label>
          <input
            matInput
            type="text"
            id="CIN"
            placeholder="CIN"
            formControlName="CIN"
            name="CIN"
          />
          <mat-icon matSuffix>badge</mat-icon>
          <div *ngIf="error?.CIN" class="text-danger">{{ error.CIN }}</div>
          <mat-hint>CIN</mat-hint>
        </mat-form-field>
      </div>
      <div class="mb-3 row row-cols-2 row-cols-lg-2 g-4 g-lg-5">
        <mat-form-field appearance="fill" class="col">
          <mat-label>Nom</mat-label>
          <input
            matInput
            type="text"
            id="nom"
            placeholder="nom"
            formControlName="nom"
            name="nom"
          />
          <mat-icon matSuffix>person</mat-icon>
          <div *ngIf="error?.nom" class="text-danger">{{ error.nom }}</div>
          <mat-hint>Nom</mat-hint>
        </mat-form-field>
        <mat-form-field appearance="fill" class="col">
          <mat-label>Prenom</mat-label>
          <input
            matInput
            type="text"
            id="prenom"
            placeholder="prenom"
            formControlName="prenom"
            name="prenom"
          />
          <mat-icon matSuffix>person</mat-icon>
          <div *ngIf="error?.prenom" class="text-danger">
            {{ error.prenom }}
          </div>
          <mat-hint>Prenom</mat-hint>
        </mat-form-field>
      </div>
      <div class="mb-3">
        <mat-form-field appearance="fill" class="w-100">
          <mat-label>Adresse</mat-label>
          <input
            matInput
            type="text"
            id="adresse"
            placeholder="adresse"
            formControlName="adresse"
            name="adresse"
          />
          <mat-icon matSuffix>home</mat-icon>
          <div *ngIf="error?.adresse" class="text-danger">
            {{ error.adresse }}
          </div>
          <mat-hint>Adresse</mat-hint>
        </mat-form-field>
      </div>
      <div class="mb-3 row row-cols-2 row-cols-lg-2 g-4 g-lg-5">
        <mat-form-field appearance="fill" class="col">
          <mat-label>Date Naissance</mat-label>
          <input
            matInput
            [matDatepicker]="picker"
            id="adresse"
            name="date_naissance"
            formControlName="date_naissance"
          />
          <mat-hint>MM/DD/YYYY</mat-hint>
          <mat-datepicker-toggle
            matSuffix
            [for]="picker"
          ></mat-datepicker-toggle>
          <div *ngIf="error?.date_naissance" class="text-danger">
            {{ error.date_naissance }}
          </div>
          <mat-datepicker #picker></mat-datepicker>
        </mat-form-field>
        <mat-form-field appearance="fill" class="col">
          <mat-label>Telephone</mat-label>
          <input
            matInput
            type="text"
            id="telephone"
            placeholder="telephone"
            formControlName="telephone"
            name="telephone"
          />
          <mat-icon matSuffix>phone</mat-icon>
          <div *ngIf="error?.telephone" class="text-danger">
            {{ error.telephone }}
          </div>
          <mat-hint>Telephone</mat-hint>
        </mat-form-field>
      </div>
      <div class="mb-3 row row-cols-2 row-cols-lg-3 g-3 g-lg-3">
        <mat-form-field appearance="fill" class="col">
          <mat-label>Select Role</mat-label>
          <mat-select formControlName="role">
            <mat-option value="Employé">Employé</mat-option>
            <mat-option value="Superviseur">Responsable</mat-option>
            <mat-option value="Directeur">Sous Directeur</mat-option>
            <mat-option value="Admin">Admin</mat-option>
          </mat-select>
          <div *ngIf="error?.role" class="text-danger">
            {{ error.role }}
          </div>
          <mat-hint align="end">Role</mat-hint>
        </mat-form-field>
        <mat-form-field appearance="fill" class="col">
          <mat-label>Select Chef</mat-label>
          <mat-select formControlName="chef_id">
            <mat-option value="">-</mat-option>
            <mat-option
              value="{{ item.id }}"
              *ngFor="let item of Personnes; let i = index"
              >{{ item.nom + " " + item.prenom }}</mat-option
            >
          </mat-select>
          <div *ngIf="error?.chef_id" class="text-danger">
            {{ error.chef_id }}
          </div>
          <mat-hint align="end">Chef</mat-hint>
        </mat-form-field>
        <mat-form-field appearance="fill" class="col">
          <mat-label>Select Grade</mat-label>
          <mat-select formControlName="grade_id">
            <mat-option
              value="{{ Grade[i].id }}"
              *ngFor="let item of Grade; let i = index"
              >{{ Grade[i].libelle }}</mat-option
            >
          </mat-select>
          <div *ngIf="error?.grade_id" class="text-danger">
            {{ error.grade_id }}
          </div>
          <mat-hint align="end">Grade</mat-hint>
        </mat-form-field>
      </div>
      <div class="mb-3 row row-cols-2 row-cols-lg-2 g-4 g-lg-5">
        <mat-form-field appearance="fill" class="col">
          <mat-label>Select Fonction</mat-label>
          <mat-select formControlName="fonction_id">
            <mat-option
              value="{{ Fonction[i].id }}"
              *ngFor="let item of Fonction; let i = index"
              >{{ Fonction[i].libelle }}</mat-option
            >
          </mat-select>
          <div *ngIf="error?.fonction_id" class="text-danger">
            {{ error.fonction_id }}
          </div>
          <mat-hint align="end">Fonction</mat-hint>
        </mat-form-field>
        <mat-form-field appearance="fill" class="col">
          <mat-label>Select Echelle</mat-label>
          <mat-select formControlName="echelle_id">
            <mat-option
              value="{{ Echelle[i].id }}"
              *ngFor="let item of Echelle; let i = index"
              >{{ item.libelle }}</mat-option
            >
          </mat-select>
          <div *ngIf="error?.echelle_id" class="text-danger">
            {{ error.echelle_id }}
          </div>
          <mat-hint align="end">Echelle</mat-hint>
        </mat-form-field>
      </div>
      <div>
        <p>Go to a different step to see the error state</p>
        <button mat-button matStepperNext>Next</button>
      </div>
    </form>
  </mat-step>
  <mat-step [stepControl]="secondFormGroup" errorMessage="Address is required.">
    <form [formGroup]="secondFormGroup">
      <ng-template matStepLabel>Fill out your address</ng-template>
      <mat-form-field appearance="fill">
        <mat-label>Address</mat-label>
        <input
          matInput
          placeholder="Ex. 1 Main St, New York, NY"
          formControlName="secondCtrl"
          required
        />
      </mat-form-field>
      <div>
        <p>Go to a different step to see the error state</p>
        <button mat-button matStepperPrevious>Back</button>
        <button mat-button matStepperNext>Next</button>
      </div>
    </form>
  </mat-step>
  <mat-step>
    <ng-template matStepLabel>Done</ng-template>
    <p>You are now done.</p>
    <div>
      <button mat-button matStepperPrevious>Back</button>
      <button mat-button (click)="stepper.reset()">Reset</button>
    </div>
  </mat-step>
</mat-stepper>
